---
import AboutUs from "../components/AboutUs.astro";
import Hero from "../components/Hero.astro";
import OurMethodology from "../components/OurMethodology.astro";
import OurWork from "../components/OurWork.astro";
import Solutions from "../components/Solutions.astro";
import ContactUs from "../components/ContactUs.astro";
import Layout from "../layouts/Layout.astro";

// Welcome to Astro! Wondering what to do next? Check out the Astro documentation at https://docs.astro.build
// Don't want to use any of this? Delete everything in this file, the `assets`, `components`, and `layouts` directories, and start fresh.
---

<Layout>
  <Hero />
  <OurWork />
  <Solutions />
  <OurMethodology />
  <AboutUs />
  <ContactUs />
</Layout>

<style is:global>
  .animation {
    opacity: 0;
    transform: translateY(30px);
    transition:
      opacity 0.8s ease-out,
      transform 1s ease-out;
  }

  .animation.visible {
    opacity: 1;
    transform: translateY(0);
  }
</style>

<script>
  const boxes = document.querySelectorAll(".animation");

  const observer = new IntersectionObserver(
    (entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          entry.target.classList.add("visible");
          // Si querés que la animación ocurra una sola vez:
          observer.unobserve(entry.target);
        }
      });
    },
    {
      threshold: 0.5, // porcentaje visible antes de activar
    },
  );

  boxes.forEach((box) => observer.observe(box));
</script>
